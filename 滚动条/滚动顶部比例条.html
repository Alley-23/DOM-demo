<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
    <style type="text/css">
        *{
            margin: 0;
            padding: 0;
        }
        img{
            border:0;
        }
        ol, ul ,li{list-style: none;}
        .box{
            height: 2000px;
            width: 1000px;
            background-color: #ccc;
            margin: 0 auto;
        }
        .topLoading{
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            width: 0px;
            background-color: green;
        }
    </style>
</head>
<body>
    <div class="topLoading" id="topLoading"></div>
    <div class="box">

    </div>
    <script type="text/javascript">
        var topL = document.getElementById("topLoading");

        Number.prototype.toPercent = function(){
            return (Math.round(this * 10000)/100).toFixed(2) + '%';
        }


        window.onscroll=function(){
            //获得滚动高度
            var ostop=document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
            //获得文档的高度
            var oheight = document.documentElement.scrollHeight || document.body.scrollHeight;

            var r = ostop / (oheight - ostop);

            topL.style.width = r.toPercent();
        }

    </script>
</body>
</html>